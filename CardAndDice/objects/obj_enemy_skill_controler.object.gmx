<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_system_invisible_object_sprite</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1004</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>owner_id = ct_argument[0]
select_skill = choose(0,0,0,0,1,1,1,2,2,2)

//사용가능한 스킬이 하나도 없으면 제거
chance = 0
for(var i = 0; i &lt; 3; i++)
{
    if is_undefined(owner_id.skill_list[|i]) {chance++; continue;}
    if owner_id.skill_list[|i].is_passive_skill {chance++; continue;}
}
if chance = 3 {instance_destroy()}

//사용가능한 스킬 찾아서 사용
while(is_undefined(owner_id.skill_list[|select_skill]) or owner_id.skill_list[|select_skill].is_passive_skill)
{
    select_skill = choose(0,0,0,0,1,1,1,2,2,2)
}

pointer = undefined
target_id = undefined
alarm[0] = 180

//가장 도발이 높은 상대 찾기
if owner_id.skill_list[|select_skill].is_targeting_skill
{
    var target_list = make_list_of_all_cards()
    var size = ds_list_size(target_list)
    var max_taunt_instance = target_list[| 0]
    var max_taunt = target_list[| 0].taunt_power + target_list[| 0].additional_taunt_power + target_list[| 0].volatility_taunt_power
    for (var i = 0; i &lt; size; i++)
    {
        var target_taunt = target_list[| i].taunt_power + target_list[| i].additional_taunt_power + target_list[| i].volatility_taunt_power
        if max_taunt &lt; target_taunt
        {
            max_taunt = target_taunt
            max_taunt_instance = target_list[|i]
        }
    }
    target_id = max_taunt_instance
    ds_list_destroy(target_list)
    pointer = instance_create_v(0,0,obj_card_pointer_head,owner_id,owner_id.skill_list[|select_skill])
    pointer.player_control = false
    pointer.target_card = target_id
}

//논타켓 스킬일 경우 다른 방식으로 포인터를 보여줌
nontarget_skill_handler = instance_create_v(x,y,obj_nontarget_skill_handler,owner_id,owner_id.skill_list[|select_skill])

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !is_undefined(pointer) {instance_destroy(pointer)}
if !is_undefined(nontarget_skill_handler) {instance_destroy(nontarget_skill_handler)}
if instance_exists(obj_card_pointer_body) {instance_destroy(obj_card_pointer_body)}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !is_undefined(global.turn_instance) 
{
    if instance_exists(global.turn_instance)
    {
        if !owner_id.is_dead and global.turn_instance = owner_id
        {
            instance_create_v(x,y,obj_skill_handler,owner_id,owner_id.skill_list[|select_skill])
        }
    }
}
instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !is_undefined(target_id)
{
    if !instance_exists(target_id){instance_destroy()}
    else
    {
        if owner_id.is_dead or target_id.is_dead
        {
            instance_destroy()
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !is_undefined(target_id)
{
    kill_rate_of_skill(target_id.x,target_id.y,owner_id,owner_id.skill_list[|select_skill],target_id)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
